<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì˜¤ëŠ˜ ê·¸ë¦´ ê·¸ë¦¼ì€? | ì¡°ì•½ëŒ ë§ˆì„</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .scene { perspective: 1200px; -webkit-perspective: 1200px; }
    .card { transform-style: preserve-3d; -webkit-transform-style: preserve-3d;
            transition: transform .8s cubic-bezier(.2,.8,.2,1); will-change: transform; }
    .card.is-flipped { transform: rotateY(180deg); }
    .card-face { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
    .card-back { transform: rotateY(180deg); }
    .hidden-face { opacity: 0; pointer-events: none; }
    .visible-face { opacity: 1; pointer-events: auto; }
    .focus-ring { outline: none; }
    .focus-ring:focus { box-shadow: 0 0 0 2px rgba(251,191,36,.6); }
    .pill { font-size: 12px; border-radius: 9999px; padding: .25rem .6rem; border: 1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.08); }
  </style>
</head>
<body class="min-h-screen w-full bg-gradient-to-br from-[#0f172a] via-[#111827] to-[#1f2937] text-white flex items-center justify-center p-4">
  <div id="app" class="w-full max-w-xl"></div>

  <script>
    /* ---------------- ìƒí™© 45 ---------------- */
    const SITUATIONS = [
      { id:1,title:"ì¶•í•˜í•˜ëŠ” ëŒ€í™” ìƒí™©",category:"ëŒ€í™”",examples:["ì¼€ì´í¬","í­ì£½","ê½ƒê°€ë£¨","íŒŒí‹°ëª¨ì","'ì¶•í•˜í•´!'"] },
      { id:2,title:"ìœ„ë¡œí•´ì£¼ëŠ” ëŒ€í™” ìƒí™©",category:"ëŒ€í™”",examples:["í† ë‹¥í† ë‹¥ ì†","ë”°ëœ»í•œ ë‹´ìš”","í‹°ìŠˆ","í•«íŒ©","'ê´œì°®ì•„'"] },
      { id:3,title:"ìƒë‹´í•´ì£¼ëŠ” ëŒ€í™” ìƒí™©",category:"ëŒ€í™”",examples:["ë…¸íŠ¸ì™€ íœ","í—¤ë“œì…‹","ìƒë‹´ì†Œ ê°„íŒ","ì²´í¬ë¦¬ìŠ¤íŠ¸","ìƒê° êµ¬ë¦„"] },
      { id:4,title:"ì”ì†Œë¦¬í•˜ëŠ” ìƒí™©",category:"ëŒ€í™”",examples:["í—ˆë¦¬ì— ì†","ì†ê°€ë½ ì§šê¸°","í˜¸ë£¨ë¼ê¸°","ê²½ê³  í‘œì§€","ì°Œë¦¿ ëˆˆì¹"] },
      { id:5,title:"ì• êµë¶€ë¦¬ëŠ” ìƒí™©",category:"ê°ì •",examples:["ë°˜ì§ëˆˆ","í•˜íŠ¸ ë¿…","ë¸Œì´ í¬ì¦ˆ","ë³¼ ì½•","ë‹¬ì½¤ ë§í’ì„ "] },
      { id:6,title:"ì›ƒëŠ” ìƒí™©",category:"ê°ì •",examples:["ëˆˆì›ƒìŒ","ë°•ì¥ëŒ€ì†Œ","'ã…‹ã…‹'","ì›ƒìŒ ëˆˆë¬¼","í•˜ì´íŒŒì´ë¸Œ"] },
      { id:7,title:"ìš°ëŠ” ìƒí™©",category:"ê°ì •",examples:["ëšëš ëˆˆë¬¼","ìš¸ë¨¹","íœ´ì§€","ì½§ë¬¼ ë°©ìš¸","ë¹—ë°©ìš¸ ë°°ê²½"] },
      { id:8,title:"ìŠ¬í¼í•˜ëŠ” ìƒí™©",category:"ê°ì •",examples:["ê³ ê°œ í‘¹","ë¹„êµ¬ë¦„","íšŒìƒ‰ ë°°ê²½","ì‘ì•„ì§","í•œìˆ¨"] },
      { id:9,title:"ë©‹ì©ì–´í•˜ëŠ” ìƒí™©(ë¯¼ë§)",category:"ê°ì •",examples:["ë’·ë¨¸ë¦¬ ê¸ì ","ì‹ì€ë•€","ë³¼ í™ì¡°","ì‹œì„  íšŒí”¼","ë¨¸ì“± í‘œì •"] },
      { id:10,title:"ë¶€íƒí•˜ëŠ” ìƒí™©",category:"ëŒ€í™”",examples:["í•©ì¥ ì†","ë°˜ì§ ëˆˆë¹›","'ì œë°œ~'","ë¦¬ë³¸ ìƒì","ê³ ê°œ ë„ë•"] },
      { id:11,title:"ê°ì‚¬í•˜ëŠ” ìƒí™©",category:"ëŒ€í™”",examples:["ê¾¸ë²… ì¸ì‚¬","ê°ì‚¬ ì¹´ë“œ","ì„ ë¬¼ ìƒì","'ê³ ë§ˆì›Œ'","ê½ƒë‹¤ë°œ"] },
      { id:12,title:"ë§ˆë¬´ë¦¬ ì¸ì‚¬",category:"ëŒ€í™”",examples:["ì† í”ë“¤ê¸°","ì˜ì ëª¨ì","ë¬¸ ë‹«í˜","ë³„Â·ë‹¬","'ì•ˆë…•~'"] },
      { id:13,title:"í™”ë‚´ëŠ” ìƒí™© (ë²„ëŸ­)",category:"ê°ì •",examples:["ë¶ˆê½ƒ ëˆˆì¹","ì¦ê¸°","ë¶„ë…¸ ê²Œì´ì§€","ë¹¨ê°„ ë°°ê²½","ë²ˆê°œ"] },
      { id:14,title:"ë†€ë¼ëŠ” ìƒí™© (í—‰!)",category:"ê°ì •",examples:["ë™ê·¸ë€ ëˆˆ","!?!","ì í”„","ë¨¸ë¦¬ ê³¤ë‘ì„¬","'í—‰'"] },
      { id:15,title:"ì‚¬ë‘ ê³ ë°±/ì• ì •",category:"ëŒ€í™”",examples:["í•˜íŠ¸ ëˆˆ","ìª½!","ê½ƒë‹¤ë°œ","ëŸ¬ë¸Œ ë ˆí„°","í•˜íŠ¸ ë°°ê²½"] },
      { id:16,title:"ì‹¬ì‹¬í•  ë•Œ",category:"ìƒí™©",examples:["í•˜í’ˆ","íƒìƒì‹œê³„","ë³¼ ê¸ì ","ì‹¬ë“œë ","ë‚™ì„œ"] },
      { id:17,title:"í”¼ê³¤/ì§€ì¹¨",category:"ìƒí™©",examples:["ë‹¤í¬ì„œí´","ì»¤í”¼","ë°˜ì¯¤ ê°ì€ ëˆˆ","ê¸°ì§€ê°œ","zzz"] },
      { id:18,title:"ë“ì˜ì–‘ì–‘/ìë‘",category:"ê°ì •",examples:["ì„ ê¸€ë¼ìŠ¤","ì—„ì§€ì²™","íŠ¸ë¡œí”¼","ë°˜ì§ íš¨ê³¼","ìì‹ ë§Œë§Œ"] },
      { id:19,title:"ì¥ë‚œ",category:"ìƒí™©",examples:["ë©”ë¡±","ê¹œì§ ìƒì","ì¥ë‚œ ì¢…","ëª°ì¹´","ìŠ¤í‹°ì»¤"] },
      { id:20,title:"ê¸°ë‹¤ë¦¼ (ì–¸ì œ ì™€?)",category:"ìƒí™©",examples:["ëª¨ë˜ì‹œê³„","ì‹œê³„ ì‘ì‹œ","ë¬¸ ì³ë‹¤ë´„","ë°œ ë™ë™","'ì–¸ì œì™€?'"] },
      { id:21,title:"ê³ ë¯¼ (í â€¦)",category:"ê°ì •",examples:["í„± ê´´ê¸°","ë¬¼ìŒí‘œ","ë¯¸ë¡œ","ë•€ë°©ìš¸","ì €ìš¸"] },
      { id:22,title:"íšŒí”¼/ë„ë§",category:"ìƒí™©",examples:["ë¨¼ì§€ êµ¬ë¦„","ì‹ì€ë•€","ìˆ¨ê¸°","ë’¤ëŒì•„ ë„ë§","ë²½ ë’¤ íë”"] },
      { id:23,title:"ì‚¬ê³¼",category:"ëŒ€í™”",examples:["ë‘ ì† ëª¨ì•„","ì‚¬ê³¼ ì¹´ë“œ","'ë¯¸ì•ˆí•´'","ê³ ê°œ ìˆ™ì„","ì‘ì•„ì§"] },
      { id:24,title:"ê³µê°/ë§ì¥êµ¬",category:"ëŒ€í™”",examples:["ë„ë•","'ã…‡ã…‡'","ì†ë¼‰ ì²™","ì‹±ê¸‹","ë™ê·¸ë¼ë¯¸"] },
      { id:25,title:"ì•½ì†/ì‹œê°„",category:"ëŒ€í™”",examples:["ë‹¬ë ¥","ì‹œê³„","ì²´í¬","ë©”ì‹ ì € ë§í’ì„ ","ì•½ì† ë„ì¥"] },
      { id:26,title:"ì‘ì›/íŒŒì´íŒ…",category:"ëŒ€í™”",examples:["ì‘ì›ë´‰","'íŒŒì´íŒ…!'","ê·¼ìœ¡","ê¹ƒë°œ","ë¶ˆê½ƒ"] },
      { id:27,title:"ì¹­ì°¬",category:"ëŒ€í™”",examples:["ë³„ ìŠ¤í‹°ì»¤","ì¹­ì°¬ ë„ì¥","ì™•ê´€","ì—„ì§€ì²™","'ìµœê³ !'"] },
      { id:28,title:"ë°°ê³ í””",category:"ìƒí™©",examples:["ê¼¬ë¥´ë¥µ","ìˆ˜ì € í¬í¬","ê¹€ë‚˜ëŠ” ìŒì‹","ì¹¨ ë°©ìš¸","ë¹ˆ ì ‘ì‹œ"] },
      { id:29,title:"ì§€ê°/í—ˆë‘¥ì§€ë‘¥",category:"ìƒí™©",examples:["ì•ŒëŒ í­ë°œ","í—ë ˆë²Œë–¡","ë•€ë°©ìš¸","ë„˜ì–´ì§„ ìš´ë™í™”","'ì§€ê°!'"] },
      { id:30,title:"ì„ ë¬¼/ì„œí”„ë¼ì´ì¦ˆ",category:"ëŒ€í™”",examples:["ë¦¬ë³¸ ìƒì","ì¹´ë“œ","í•˜íŠ¸ íƒœê·¸","ì „ë‹¬ ì œìŠ¤ì²˜","í­ì£½"] },
      { id:31,title:"ëˆˆì¹˜ ë³´ê¸°",category:"ê°ì •",examples:["íë”","â€¦","ì‹ì€ë•€ í•œ ë°©ìš¸","ì‘ì•„ì§","ì»¤íŠ¼ ë’¤"] },
      { id:32,title:"ë¹„ë°€/ì‰¿",category:"ëŒ€í™”",examples:["ì…ì— ì†ê°€ë½","ì§€í¼ ì…","ìë¬¼ì‡ ","ì‘ì€ ë§í’ì„ ","ì–´ë‘ìš´ ë°°ê²½"] },
      { id:33,title:"ê³µë¶€/ì§‘ì¤‘",category:"ìƒí™©",examples:["ì±… ë”ë¯¸","ì•ˆê²½","í˜•ê´‘íœ","ìŠ¤í†±ì›Œì¹˜","'ì§‘ì¤‘!'"] },
      { id:34,title:"ìš´ë™/ë‹¤ì´ì–´íŠ¸",category:"ìƒí™©",examples:["ì•„ë ¹","ì¤„ë„˜ê¸°","ë¬¼ë³‘","ë•€ë°©ìš¸","ì¹¼ë¡œë¦¬"] },
      { id:35,title:"ë¹„ ì˜¤ëŠ” ë‚ ",category:"ìƒí™©",examples:["ìš°ì‚°","ì¥í™”","ë¬¼ì›…ë©ì´","ì£¼ë£© ì„ ","ë¹—ë°©ìš¸"] },
      { id:36,title:"í­ì—¼/ë”ìœ„",category:"ìƒí™©",examples:["ë¶€ì±„","ì–¼ìŒ","ì„ í’ê¸°","í•´ ëª¨ì","ê²Œì´ì§€"] },
      { id:37,title:"í•œíŒŒ/ì¶”ì›€",category:"ìƒí™©",examples:["ëª©ë„ë¦¬","ì…ê¹€","ê·€ë§ˆê°œ","ëˆˆì†¡ì´","ëœëœ"] },
      { id:38,title:"ì¼ìš”ì¼ íë§",category:"ìƒí™©",examples:["ì†ŒíŒŒ","í•«ì´ˆì½”","ë‹´ìš”","ë…¸íŠ¸ë¶","íë§"] },
      { id:39,title:"ì›”ìš”ì¼ ìš°ìš¸",category:"ê°ì •",examples:["ì•ŒëŒ","í•œìˆ¨","ì´ˆì ìƒì€ ëˆˆ","ì»¤í”¼ ëŒ€ì","'ì›”ìš”ë³‘'"] },
      { id:40,title:"ì‡¼í•‘/ê²°ì œ",category:"ìƒí™©",examples:["ì¥ë°”êµ¬ë‹ˆ","ì¹´ë“œ","íƒë°° ë°•ìŠ¤","ì„¸ì¼ íƒœê·¸","ì˜ìˆ˜ì¦"] },
      { id:41,title:"ê²Œì„ ìŠ¹/íŒ¨",category:"ê°ì •",examples:["íŠ¸ë¡œí”¼","ê²Œì„íŒ¨ë“œ","ë³„ íš¨ê³¼","KO","ìŠ¬í”ˆ ì´ëª¨ì§€"] },
      { id:42,title:"ì—¬í–‰/ì¶œë°œ",category:"ìƒí™©",examples:["ìºë¦¬ì–´","ë¹„í–‰ê¸°","ì§€ë„","í‹°ì¼“","ì‚¬ì§„"] },
      { id:43,title:"ê±´ê°•/ë³‘ì›",category:"ìƒí™©",examples:["ì²´ì˜¨ê³„","íŒŒìŠ¤","ë°´ë“œ","ì•½ ë´‰ì§€","'í›…' ê¸°ì¹¨"] },
      { id:44,title:"ì†Œì†Œí•œ í–‰ë³µ",category:"ê°ì •",examples:["ì‘ì€ ê½ƒ","ë°˜ì§ì´","ë”°ëœ»í•œ ë¯¸ì†Œ","ì¿ í‚¤","í•˜íŠ¸ ì "] },
      { id:45,title:"ì§‘ì¤‘ ì—…ë¬´/ë§ˆê°",category:"ìƒí™©",examples:["í‚¤ë³´ë“œ","ë§ˆê° íƒ€ì´ë¨¸","í¬ìŠ¤íŠ¸ì‡","ì»¤í”¼ 2ì”","ë‹¤í¬ì„œí´"] },
    ];

    /* --------------- ì„±ê²© 50 --------------- */
    const PERSONALITIES = [
      {id:101,title:"ì˜ ì‚ì§€ëŠ” ì„±ê²©",examples:["ì… ë¿¡","ì‚- ë§í’ì„ ","íŒ”ì§±","ë¾°ë£¨í‰ ëˆˆì¹","ë’¤ëŒì•„ì„¬"]},
      {id:102,title:"í‘í™”í•œ ëª¨ìŠµ",examples:["ê²€ì€ ì˜¤ë¼","ë²ˆê°œ ëˆˆ","ë¯¸ì†Œ ì‚­ì œ","ê·¸ë¦¼ì ë°°ê²½","ê· ì—´ íš¨ê³¼"]},
      {id:103,title:"ì˜í˜¼ ì—†ìŒ",examples:["ë¬´í‘œì • ëˆˆ","ì§ì„  ì…","íšŒìƒ‰ í†¤","ê¸°ê³„ì  ë§í’ì„ ","â€¦"]},
      {id:104,title:"ë…¼ë¦¬ì ì„",examples:["ì•ˆê²½","ê·¸ë˜í”„/ë„í‘œ","ê·¼ê±°1Â·2 ë§í’ì„ ","ì²´í¬ë¦¬ìŠ¤íŠ¸","í¬ì¸í„°"]},
      {id:105,title:"ê°ì •ì ì„",examples:["ëˆˆë¬¼/í•˜íŠ¸","ê°ì • ê²Œì´ì§€","íŒŒë„ì„ ","ê°€ìŠ´ í†¡í†¡","ê°íƒ„ì‚¬"]},
      {id:106,title:"í˜¸ë“¤ê°‘ìŸì´",examples:["ê³¼í•œ ì œìŠ¤ì²˜","ìŠ¤íŒŒí´","í° ë§í’ì„ ","ì í”„","!?"]},
      {id:107,title:"ê²ìŸì´",examples:["ëœëœ","íŒŒë—ê²Œ ì§ˆë¦¼","ìˆ¨ê¸°","ì‹ì€ë•€","'ë¬´ì„œì›Œ'"]},
      {id:108,title:"ëˆˆì¹˜ ë³´ëŠ”",examples:["íë”","ì‘ì•„ì§","â€¦","ì‹ì€ë•€","ëˆˆë™ì í”ë“¤"]},
      {id:109,title:"ì˜¨í™”í•œ",examples:["ë”°ëœ»í•œ ë¯¸ì†Œ","ë¶€ë“œëŸ¬ìš´ í†¤","í–‡ì‚´","ê½ƒì","ë§í’ì„ (ì²œì²œíˆ)"]},
      {id:110,title:"ììƒí•œ",examples:["í¬ê·¼ ë‹´ìš”","ë“± í† ë‹¥","ë”°ëˆ ì°¨","ë¯¸ì†Œ ëˆˆ","í•˜íŠ¸ ì‘ì€"]},
      {id:111,title:"ì¸ìí•œ",examples:["ëˆˆê¼¬ë¦¬ ì•„ë˜","ì†ì§“(ì˜¤ë„ˆë¼)","ê´‘ì±„","ê°€ë””ê±´","ì˜¨í™” ë§í’ì„ "]},
      {id:112,title:"ê±´ë°©ì§",examples:["ì½”ì›ƒìŒ","í„± ì¹˜ì¼œë“¦","íŒ”ì§±","ì‘ì€ ì™•ê´€","'í¥'"]},
      {id:113,title:"ì˜ˆì˜ë°”ë¦„",examples:["90ë„ ì¸ì‚¬","ê³µì† ë§í’ì„ ","ë‹¨ì • ì˜·","ëª…ì°°","ë‘ ì† ëª¨ìŒ"]},
      {id:114,title:"ë¬´í•´í•¨",examples:["ë‘¥ê·¼ ëˆˆ","ìˆœí•œ ë¯¸ì†Œ","íŒŒìŠ¤í…”","ì‘ì€ í•˜íŠ¸","'í—¤í—¤'"]},
      {id:115,title:"ì˜ì “í•¨",examples:["ë‹¹ë‹¹ ìì„¸","í—ˆë¦¬ í´ê¸°","ëª© ë©”ë‹¬","ì—„ì§€ì²™","ë°°ì§€"]},
      {id:116,title:"ê³µì†í•¨",examples:["í•©ì¥","ì¡´ëŒ“ë§","ì‘ì€ ë°œìêµ­","ê³ ê°œ ìˆ™ì„","ë¦¬ë³¸ íƒ€ì´"]},
      {id:117,title:"ì§ˆë¬¸ìŸì´",examples:["ë¬¼ìŒí‘œ ë‚œë¬´","ì† ë²ˆì©","ë©”ëª¨ì¥","ê³ ê°œ ê°¸ì›ƒ","'ì™œ?'"]},
      {id:118,title:"í—ˆì„¸ìŸì´",examples:["ì„ ê¸€ë¼ìŠ¤","ìŠ¤í¬íŠ¸ë¼ì´íŠ¸","ëˆë‹¤ë°œ","í—ˆë¦¬ êº¾ê¸°","'ë‚˜ ì •ë„'"]},
      {id:119,title:"ì‘¥ìŠ¤ëŸ¬ì›€",examples:["ë³¼ í™ì¡°","ëª¨ì í‘¹","ì†Œê³¤ì†Œê³¤","ì‹œì„  ì•„ë˜","ì†ê°€ë½ ê¼¼ì§€ë½"]},
      {id:120,title:"ë‚™ì²œì ",examples:["í–‡ì‚´","ë¬´ì§€ê°œ","í° ë¯¸ì†Œ","í•˜íŠ¸ í’ì„ ","'ë ê±°ì•¼'"]},
      {id:121,title:"ë¹„ê´€ì ",examples:["ë¹„êµ¬ë¦„","í•œìˆ¨","ì–´ë‘ìš´ í†¤","í•œ ì¤„ê¸° ë¹›","'ì–´ì°¨í”¼'"]},
      {id:122,title:"ê¼¼ê¼¼í•¨",examples:["ì²´í¬ 3ì¤‘","ë‹ë³´ê¸°","ì/ëˆˆê¸ˆ","í¬ìŠ¤íŠ¸ì‡","í™•ì¸ ë„ì¥"]},
      {id:123,title:"ëŒ€ì¶©ëŒ€ì¶©",examples:["ì‚ëš¤ì­‰","ëŒ€ì¶© ì²´í¬","í•˜í’ˆ","ëŒ€ì¶© OK","í…… ë¹ˆ ëˆˆ"]},
      {id:124,title:"ì™„ë²½ì£¼ì˜",examples:["0.0 ì˜¤ì°¨","ê´‘íƒ","ê°ë„ê¸°","ë¨¼ì§€ ì œê±°","'ì™„ë²½'"]},
      {id:125,title:"ê·€ì°¨ë‹ˆì¦˜",examples:["ì¹¨ëŒ€/ì†ŒíŒŒ","ì´ë¶ˆì†","ì•ŒëŒ ë¬´ì‹œ","ëŠë¦¿ ëŒ€ì‚¬","í•˜í’ˆ"]},
      {id:126,title:"ìŠ¹ë¶€ìš• ê°•í•¨",examples:["ë¶ˆê½ƒ ëˆˆ","íŠ¸ë¡œí”¼","ìŠ¤ì½”ì–´ ë³´ë“œ","ì£¼ë¨¹ ë¶ˆëˆ","'ê°€ì!'"]},
      {id:127,title:"ì†Œì‹¬í•¨",examples:["ì‘ì•„ì§","ì ì„  ë§í’ì„ ","ë‘ê·¼ë‘ê·¼","í•œ ë°œ ë’¤","ì†ëª¨ì•„"]},
      {id:128,title:"ëŒ€ë‹´í•¨",examples:["íŒ” ë²Œë¦¼","ë²ˆê°œ ë°°ê²½","êµµì€ ëŒ€ì‚¬","ì•ì¥ì„œê¸°","ë¶€ìŠ¤í„°"]},
      {id:129,title:"í˜„ì‹¤ì£¼ì˜",examples:["ê³„ì‚°ê¸°","ì§€ê°‘ í™•ì¸","ì°¨ë¶„ í‘œì •","To-Do","ì²´í¬"]},
      {id:130,title:"ëª½ìƒê°€",examples:["ë³„/ë‹¬","êµ¬ë¦„ íƒ€ê¸°","í•˜ëŠ˜ë³´ê¸°","ê¿ˆ ë§í’ì„ ","ë°˜ì§"]},
      {id:131,title:"í”„ë¡œì°¸ê²¬ëŸ¬",examples:["ë‹ë³´ê¸°","'ê·¼ë°'","ë©”ëª¨","ì°Œë¦¿ ëˆˆ","ì†ê°€ë½ ì¿¡"]},
      {id:132,title:"ë•í›„ë ¥ í­ë°œ",examples:["ë³„ê´‘ì±„","êµ¿ì¦ˆ ë”ë¯¸","í•˜íŠ¸ëˆˆ","ìŠ¤í‹°ì»¤ ë²”ë²…","ì‘ì›ë´‰"]},
      {id:133,title:"ì‹íƒì™•",examples:["ëºì–´ë¨¹ê¸°","ìˆ˜ì € ë²ˆì©","í•˜íŠ¸ ìŒì‹","êµ°ì¹¨","'í•œ ì…ë§Œ'"]},
      {id:134,title:"ì”ì†Œë¦¬ê¾¼",examples:["í˜¸ë£¨ë¼ê¸°","ê²½ê³ í‘œì§€","ì†ê°€ë½","ìŠ¤í†±ì›Œì¹˜","'ë˜?'"]},
      {id:135,title:"ì¸¤ë°ë ˆ",examples:["ê·€ ë¹¨ê°œì§","íˆ´íˆ´","ë’¤ëŒì•„ ì„  ì„ ë¬¼","'ì•„ëƒ'","í•˜íŠ¸ ìˆ¨ê¹€"]},
      {id:136,title:"ê´€ì¢…ë¯¸ ë¿œë¿œ",examples:["ìŠ¤íŒŸë¼ì´íŠ¸","ì¹´ë©”ë¼","Ví¬ì¦ˆ","ë°˜ì§","'ë´ì¤˜!'"]},
      {id:137,title:"ì™¸ìœ ë‚´ê°•",examples:["ë¶€ë“œëŸ¬ìš´ ë¯¸ì†Œ","ê°•í•œ ì£¼ë¨¹","ê½ƒ+ì² ê·¼","í‹° ì•ˆë‚¨","'ê±±ì •ë§ˆ'"]},
      {id:138,title:"ì†ì • ê¹ŠìŒ",examples:["ë’¤ì—ì„œ ì±™ê¹€","ë”°ëœ»í•œ ë„ì‹œë½","ìš°ì‚° ì”Œìš°ê¸°","ë©”ëª¨ ìª½ì§€","ì‘ì€ í•˜íŠ¸"]},
      {id:139,title:"ì¿¨ë‚´ ì§„ë™",examples:["ì„ ê¸€ë¼ìŠ¤","íŒ”ì§±","í•œì¤„ ì½”ë©˜íŠ¸","ì–¼ìŒê²°","ë°”ëŒì„ "]},
      {id:140,title:"ê´‘ê¸° í•œ ìŠ¤í‘¼",examples:["ëˆˆ í”ë“¤ë¦¼","ê¸°ê´´ ë¯¸ì†Œ","ì‚¬ì„  ë°°ê²½","í•˜í•˜í•˜","ê· ì—´"]},
      {id:141,title:"ìˆ˜ë‹¤ìŸì´",examples:["ë§í’ì„  ì—°ì†","ì† ì œìŠ¤ì²˜","í•˜í•˜í˜¸í˜¸","ë¹ ë¥¸ í…ìŠ¤íŠ¸","ë§ˆì´í¬"]},
      {id:142,title:"ë¬´ëšëš",examples:["ì í‘œì •","ì§§ì€ ëŒ€ì‚¬","íŒ”ì§±","ë‹¨ìƒ‰ ë°°ê²½","ì¿¨í†¤"]},
      {id:143,title:"ì¹œí™”ë ¥ ë†’ìŒ",examples:["í•˜ì´íŒŒì´ë¸Œ","êµ°ì¤‘ í•˜íŠ¸","ì›ƒëŠ” ëˆˆ","ë°˜ê°‘ë‹¤","íŒ” ë²Œë¦¼"]},
      {id:144,title:"ì±…ì„ê° ê°•í•¨",examples:["ì²´í¬ 100%","ë©”ëª¨ ê½‰","ë‹¨ë‹¨í•œ í‘œì •","ë°©íŒ¨","'ë§¡ê²¨'"]},
      {id:145,title:"í”„ë¡œì°¸ì„ì„±",examples:["ëª¨ë˜ì‹œê³„","3ì¤‘ ëŒ€ê¸°","ë¯¸ë™ì—†ìŒ","ë¯¸ì†Œ ìœ ì§€","'ê¸°ë‹¤ë¦´ê²Œ'"]},
      {id:146,title:"ëŒì§êµ¬",examples:["ì§ì„  í™”ì‚´","ë‹¨ë„ì§ì…","ì •ë©´ ì‘ì‹œ","ê°íƒ„ë¶€í˜¸","í‰ëª…"]},
      {id:147,title:"ëˆˆë¬¼ ë§ì€",examples:["ëˆˆë¬¼ìƒ˜ í­ë°œ","íœ´ì§€","ì½§ë¬¼","ìš¸ë¨¹","ë¶‰ì€ ëˆˆ"]},
      {id:148,title:"ë¶€ë„ëŸ¼ ç„¡",examples:["ë‹¹ë‹¹ V","ë¬´í‘œì •","'ë­ ì–´ë•Œ'","í™ í¬ì¦ˆ","í‚¤ìŠ¤ ë³´ë‚´ê¸°"]},
      {id:149,title:"ë°°ë ¤ì‹¬ ê¹ŠìŒ",examples:["ë¬¸ ì¡ì•„ì£¼ê¸°","ë‹´ìš” ë®ì–´ì£¼ê¸°","ì–‘ë³´","ë¯¸ì†Œ ëˆˆ","í•˜íŠ¸"]},
      {id:150,title:"ì§ˆíˆ¬ë§ìŒ",examples:["ì´ˆë¡ì§ˆíˆ¬","í ì¹«","ìœ½ ëˆˆ","ë§ì›ê²½","'ëˆ„êµ¬ì•¼?'"]},
    ];

    /* --------------- ìƒê¹€ìƒˆ 50 --------------- */
    const APPEARANCES = [
      {id:201,title:"ì…ìˆ ì´ ë‘êº¼ìš´",examples:["ë¦½ê¸€ë¡œìŠ¤ ê´‘íƒ","ë„í†° ë¼ì¸","ë¯¸ì†Œ ì£¼ë¦„","í•˜ì´ë¼ì´íŠ¸","ì§„í•œ ë¦½"]},
      {id:202,title:"ì…ìˆ ì´ ì–‡ì€",examples:["ê°€ëŠë‹¤ë€ ë¼ì¸","ì˜…ì€ ì»¬ëŸ¬","ì‘ì€ í•˜íŠ¸ ì…","ë¯¸ì†Œ ì ","ë¯¸ë‹ˆ ë¦½"]},
      {id:203,title:"ëˆˆì¹ì´ ì§„í•œ",examples:["êµµì€ ëˆˆì¹","ê°ì§„ ë","ë¸Œë¡œìš° ì ¤","ê°•í•œ í‘œì •","ê·¸ë¼ë°"]},
      {id:204,title:"ëˆˆì¹ì´ ì˜…ì€",examples:["ì—°í•œ ì„ ","ë¶€ë“œëŸ¬ìš´ ê°","íŒŒìš°ë” ê²°","ìˆœí•œ í‘œì •","ì ì„  ë¸Œë¡œìš°"]},
      {id:205,title:"ëˆˆì´ ë°˜ì§ì´ëŠ”",examples:["í•˜ì´ë¼ì´íŠ¸Ã—2","ìŠ¤íŒŒí´","ë³„ ì ","í° ë™ê³µ","ë¬¼ë§ì´ˆ"]},
      {id:206,title:"ëˆˆì´ í°",examples:["í™•ëŒ€ ë™ê³µ","ì†ëˆˆì¹ ìœ„ìª½","ë°˜ë‹¬ í•˜ì´ë¼ì´íŠ¸","ë™ê·¸ë€ í…Œë‘ë¦¬","ëˆˆë¹› ê°•ì¡°"]},
      {id:207,title:"ëˆˆì´ ì‘ì€",examples:["ì‘ì€ ì ëˆˆ","ì§§ì€ ì†ëˆˆì¹","ì•„ë˜ ì ê´‘","ì¢ì€ ë™ê³µ","ë¯¸ë‹ˆ ëˆˆë§¤"]},
      {id:208,title:"ëˆˆê¼¬ë¦¬ ì˜¬ë¼ê°„",examples:["ì•„ì´ë¼ì¸ ìƒìŠ¹","ê³ ì–‘ì´ëˆˆ","ë‚ ë µ ê°ë„","ìœ™","ë„ë„ í‘œì •"]},
      {id:209,title:"ëˆˆê¼¬ë¦¬ ë‚´ë ¤ê°„",examples:["ì•„ì´ë¼ì¸ í•˜ê°•","ê°•ì•„ì§€ëˆˆ","ë¶€ë“œëŸ¬ìš´ ê°","ì‚´ì§ ì¶•","ìˆœë‘¥ í‘œì •"]},
      {id:210,title:"ì†ëˆˆì¹ì´ ê¸´",examples:["ê¸´ ì»¬","ì„¸ ê°€ë‹¥ í¬ì¸íŠ¸","ëˆˆê¼¬ë¦¬ ê°•ì¡°","ë³¼ë¥¨","ìœ™ë˜ì‹œ"]},
      {id:211,title:"ì½§êµ¬ë©ì´ í°",examples:["ë„“ì€ ì½§ë§ìš¸","ë‘¥ê·¼ í•˜ì´ë¼ì´íŠ¸","ì½”ê·¸ë¦¼ì","ì½”ì„  ë‘ê»ê²Œ","ìˆ¨~"]},
      {id:212,title:"ì½”ê°€ ì˜¤ëší•œ",examples:["ì„¸ë¡œ í•˜ì´ë¼ì´íŠ¸","ëª…í™•í•œ ì½§ëŒ€","ì½”ë í•˜ì´ë¼ì´íŠ¸","ìŒì˜","ë‚ ë µ"]},
      {id:213,title:"ì½”ê°€ ë‚®ì€",examples:["ì™„ë§Œ ì½§ëŒ€","ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì","ë‘¥ê·¼ ì½”ë","í•˜ì´ë¼ì´íŠ¸ ì ê²Œ","ê·€ì—¬ìš´ í†¤"]},
      {id:214,title:"ë³¼ì‚´ì´ í†µí†µí•œ",examples:["ë³¼ í™ì¡°","ë‘¥ê·¼ ìœ¤ê³½","ë³µìˆ­ì•„ í†¤","ë§ë‘ ì„ ","í†µí†µ ì´ëª¨ì§€"]},
      {id:215,title:"ê´‘ëŒ€ê°€ ë„ë“œë¼ì§„",examples:["ê´‘ëŒ€ í•˜ì´ë¼ì´íŠ¸","ì¸¡ë©´ ìŒì˜","ê°ì§„ ìœ¤ê³½","ìŠ¤ë§ˆì¼ ë¼ì¸","ê°•í•œ ë¹›"]},
      {id:216,title:"í„±ì´ ê¸¸ë‹¤",examples:["ëŠ˜ì–´ì§„ ìœ¤ê³½","Vë¼ì¸ ê¸¸ê²Œ","ì•„ë˜ ê·¸ë¦¼ì","ê¸´ í„±ì„ ","ë§í’ì„  ì•„ë˜ë¡œ"]},
      {id:217,title:"í„±ì´ ì§§ë‹¤",examples:["ì§§ì€ Vë¼ì¸","ë‘¥ê·¼ ì•„ë˜","ì§§ì€ ê·¸ë¦¼ì","ì½¤íŒ©íŠ¸ ìœ¤ê³½","ê·€ì—¬ìš´ ë¹„ìœ¨"]},
      {id:218,title:"í„±ì„ ì´ ë‚ ì¹´ë¡œìš´",examples:["ìƒ¤í”„ ë¼ì¸","ê´‘íƒ í¬ì¸íŠ¸","ê°•í•œ ìŒì˜","ì¯§ í‘œì •","ëª¨ë¸ ëŠë‚Œ"]},
      {id:219,title:"í„±ì‚´ì´ ìˆëŠ”",examples:["ì´ì¤‘í„± ê³¡ì„ ","ë¶€ë“œëŸ¬ìš´ ìŒì˜","ëˆŒë¦° ì…","ë³¼ì‚´ ì—°ê²°","í¸ì•ˆ í‘œì •"]},
      {id:220,title:"ì´ë§ˆê°€ ë„“ì€",examples:["ë„“ì€ í•˜ì´ë¼ì´íŠ¸","ì•ë¨¸ë¦¬ ë“¤ë¦¼","ìœ—ê³µê°„ ë„‰ë„‰","í—¤ì–´ë¼ì¸ ìœ„","ë¹›ë§ìš¸"]},
      {id:221,title:"ì´ë§ˆê°€ ì¢ì€",examples:["ë‚®ì€ í—¤ì–´ë¼ì¸","ì•ë¨¸ë¦¬ ê¸¸ê²Œ","ì‘ì€ í•˜ì´ë¼ì´íŠ¸","ì••ì¶• ë¹„ìœ¨","ì½¤íŒ©íŠ¸ ë¨¸ë¦¬"]},
      {id:222,title:"ë¨¸ë¦¬ê°€ í°",examples:["í—¤ë“œ ë¹„ìœ¨â†‘","ë„“ì€ ë’·í†µìˆ˜ ì„ ","ë³¼ë¥¨ í—¤ì–´","ê°•ì¡° ì„ ","ì½”ë¯¹ ë¹„ìœ¨"]},
      {id:223,title:"ë¨¸ë¦¬ê°€ ì‘ì€",examples:["í—¤ë“œ ë¹„ìœ¨â†“","ìŠ¬ë¦¼ í—¤ì–´","ì–¼êµ´ ê°•ì¡°","ì–´ê¹¨ ë„“ì–´ë³´ì„","ë¯¸ë‹ˆ í—¤ë“œ"]},
      {id:224,title:"ëª©ì´ ì§§ì€",examples:["ì§§ì€ ë„¤í¬","ì–´ê¹¨ ê°€ê¹Œì›€","ì˜·ê¹ƒ ë°€ì°©","ê·¸ë¦¼ì ì§§ê²Œ","ê¾¸ê¹ƒ"]},
      {id:225,title:"ëª©ì´ ê¸´",examples:["ê¸°ë¦°ë„¥","ì„¸ë¡œ í•˜ì´ë¼ì´íŠ¸","ëª©ì£¼ë¦„ 2ì¤„","Vë„¥","ìš°ì•„"]},
      {id:226,title:"ì–¼êµ´ì´ ë‘¥ê·¼",examples:["ì›í˜• ìœ¤ê³½","ë³¼ ë‘¥ê¸€ê²Œ","ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì","ë™ê¸€ ëˆˆ","ë§ë‘"]},
      {id:227,title:"ì–¼êµ´ì´ ê¸´",examples:["íƒ€ì› ìœ¤ê³½","ì„¸ë¡œ ê°•ì¡°","ì¢ì€ í­","ê¸¸ê²Œ í•˜ì´ë¼ì´íŠ¸","ìŠ¬ë¦¼"]},
      {id:228,title:"ì–¼êµ´ì´ ë‚©ì‘í•œ",examples:["ë‚®ì€ ì½”","ë„“ì€ ì–¼êµ´ë©´","í‰í‰ í†¤","ê°€ë¡œ ê°•ì¡°","ê·€ì—¬ìš´ ë‚©ì‘ì´"]},
      {id:229,title:"ê·€ê°€ í°",examples:["í° ê·“ë°”í€´","ë°˜ì§ í•˜ì´ë¼ì´íŠ¸","ìŒì˜ ê°•ì¡°","ì‚´ì§ íŠ€ì–´ë‚˜ì˜´","ê·€ê±¸ì´ í¬ì¸íŠ¸"]},
      {id:230,title:"ê·€ê°€ ë¾°ì¡±í•œ",examples:["ìš”ì •ê·€","ìœ„ë¡œ ê°","ì–‡ì€ ë","ì‘ì€ ì¥ì‹","íŒíƒ€ì§€"]},
      {id:231,title:"ìŒêº¼í’€ì´ ì§„",examples:["ì§„í•œ ì£¼ë¦„ì„ ","ìœ—ìŒì˜","í° ëˆˆë™ì","ë°˜ì§","ì†ëˆˆì¹ í’ì„±"]},
      {id:232,title:"ë¬´ìŒêº¼í’€",examples:["ë§¤ëˆ ìœ—ì„ ","ì‹¬í”Œ ë™ê³µ","ì•„ì´ë¼ì¸ ì–‡ê²Œ","ë‹´ë°± ëˆˆë§¤","ì‹œí¬"]},
      {id:233,title:"ëˆˆ ë°‘ ë‹¤í¬ì„œí´",examples:["ì•„ë˜ ë°˜ì› ìŒì˜","ì„¸ë¡œ ì£¼ë¦„","í”¼ê³¤ ë§í’ì„ ","í•˜í’ˆ","ì»¤í”¼"]},
      {id:234,title:"ì£¼ê·¼ê¹¨ê°€ ìˆëŠ”",examples:["ì½”Â·ë³¼ ì ì ì ","ì˜¤ë Œì§€ í†¤","í–‡ì‚´","ì›ƒì„ ë•Œ ê°•ì¡°","ì¥ë‚œìŠ¤ëŸ¬ì›€"]},
      {id:235,title:"ì (ë·°í‹°ë§ˆí¬)ì´ ìˆëŠ”",examples:["ì…ê°€ ì ","ëˆˆë°‘ ì ","ì½”ì˜† ì ","ê°•ì¡° ë™ê·¸ë¼ë¯¸","í¬ì¸íŠ¸"]},
      {id:236,title:"ì¹˜ì•„ê°€ ê³ ë¥¸",examples:["ë°ì€ ì´ë¹¨","ìŠ¤ë§ˆì¼ ë¼ì¸","í™”ì´íŠ¸ë‹","ğŸ˜ ì´ëª¨ì§€","ê´‘íƒ"]},
      {id:237,title:"ì•ë‹ˆê°€ í† ë¼ ê°™ì€",examples:["ë‘ ì•ë‹ˆ ê°•ì¡°","ì•„ë˜ ì‘ì€ ì´","ê·€ì—¬ìš´ ë¯¸ì†Œ","ì¹˜ì•„ í•˜ì´ë¼ì´íŠ¸","í† ë¼"]},
      {id:238,title:"ì…ê¼¬ë¦¬ê°€ ì˜¬ë¼ê°„",examples:["ìœ™ ìŠ¤ë§ˆì¼","ê´‘ëŒ€ í•˜ì´ë¼ì´íŠ¸","ì›ƒëŠ” ëˆˆ","ë³¼ ì£¼ë¦„","ê¸°ë¶„ ì¢‹ìŒ"]},
      {id:239,title:"ì…ê¼¬ë¦¬ê°€ ë‚´ë ¤ê°„",examples:["í•˜ê°• ìŠ¤ë§ˆì¼","ì… ì–‘ë ê·¸ë¦¼ì","ì‹œë¬´ë£© ëˆˆ","ë³¼ì„  ì•½í•¨","ë¨¸ì“±"]},
      {id:240,title:"ë³¼ ë³´ì¡°ê°œê°€ ìˆëŠ”",examples:["íŒ¨ì„ ì ","ì›ƒì„ ë•Œ ê°•ì¡°","í•˜íŠ¸ ë„íŠ¸","ë³¼ ê·¸ë¦¼ì","ê·€ì—¬ì›€"]},
      {id:241,title:"ì½”ëì´ ë‘¥ê·¼",examples:["ë¼ìš´ë“œ ì½”ë","í•˜ì´ë¼ì´íŠ¸ ì ","ë¶€ë“œëŸ¬ìš´ ì½§ë§ìš¸","ë‘¥ê·¼ ê·¸ë¦¼ì","ë§ë‘"]},
      {id:242,title:"ì½”ëì´ ë¾°ì¡±í•œ",examples:["ì‚¼ê° ì½”ë","ìƒ¤í”„ í•˜ì´ë¼ì´íŠ¸","ì½§ëŒ€ ì„ ëª…","ê°ì§„ ê·¸ë¦¼ì","ë‚ ë µ"]},
      {id:243,title:"ì½§ëŒ€ê°€ ë„“ì€",examples:["ë„“ì€ í•˜ì´ë¼ì´íŠ¸","ì–‘ìª½ ìŒì˜ ì•½","ê°•í•œ ì¡´ì¬ê°","ì§ì„ ","ì™€ì´ë“œ"]},
      {id:244,title:"ì½§ëŒ€ê°€ ì–‡ì€",examples:["ê°€ëŠ” í•˜ì´ë¼ì´íŠ¸","ì–‘ìª½ ìŒì˜ ì§„","ì„¬ì„¸í•œ ë¼ì¸","ìŠ¬ë¦¼ ì½”","ìƒ¤í”„"]},
      {id:245,title:"ê´‘ëŒ€ê°€ ë‚®ì€",examples:["ë³¼ ì¤‘ì‹¬ ì•„ë˜","ë¶€ë“œëŸ¬ìš´ ë©´","ê·¸ë¦¼ì ì ê²Œ","ìˆœí•œ ì¸ìƒ","ì™„ë§Œ ìœ¤ê³½"]},
      {id:246,title:"ëˆˆë™ìê°€ í•˜íŠ¸",examples:["í•˜íŠ¸ ë™ê³µ","ë°˜ì§","í•‘í¬ í†¤","ì‚¬ë‘ ì´í™íŠ¸","ë‘ê·¼"]},
      {id:247,title:"ëˆˆë™ìê°€ ë³„",examples:["ë³„ ë™ê³µ","ìŠ¤íŒŒí´","ìš°ì£¼ ë°°ê²½","ë°˜ì§ ì„ ","ê°íƒ„"]},
      {id:248,title:"ëˆˆë™ìê°€ ê³ ì–‘ì´",examples:["ì„¸ë¡œ ë™ê³µ","ìƒ¤í”„ ëˆˆë¹›","ì•„ì´ë¼ì¸â†‘","ê²€ì€ì ë¹„ìœ¨â†‘","ë„ë„"]},
      {id:249,title:"ëˆˆë™ìê°€ ë™ê·¸ë¼ë¯¸",examples:["ë™ê·¸ë€ ë™ê³µ","í•˜ì´ë¼ì´íŠ¸Ã—2","ê·€ì—¬ìš´ ëˆˆ","ë‘¥ê·¼ í…Œë‘ë¦¬","ìˆœë‘¥"]},
      {id:250,title:"ìˆ˜ì—¼ì´ ë‚œ",examples:["í„±ìˆ˜ì—¼","ì½§ìˆ˜ì—¼","ì ìˆ˜ì—¼","ê¹Œì¹  ìë¼ë‚¨","ë©´ë„ê¸°"]},
    ];

    const DATASETS = {
      situation:  { name: "ìƒí™©",   items: SITUATIONS },
      personality:{ name: "ì„±ê²©",   items: PERSONALITIES },
      appearance: { name: "ìƒê¹€ìƒˆ", items: APPEARANCES },
    };

    /* ---------------- ìƒíƒœ/ì €ì¥ì†Œ ---------------- */
    const storage = {
      get(k,f){ try{ const r=localStorage.getItem(k); return r?JSON.parse(r):f; }catch{ return f; } },
      set(k,v){ try{ localStorage.setItem(k, JSON.stringify(v)); }catch{} }
    };

    const PREMIUM_PASS = "Whdirehfakdmf";
    let premiumUnlocked = storage.get("emojiIdea.premiumUnlocked", false);

    let mode = storage.get("emojiIdea.mode","situation"); // 'situation' | 'personality' | 'appearance'
    if (!premiumUnlocked && (mode==='personality' || mode==='appearance')) mode = 'situation';

    let flipped=false, current=null;
    let history = storage.get("emojiIdea.historyV2", []); // {type,id,t}[]
    const $ = s => document.querySelector(s);
    const toast = (msg)=>{ const el=document.createElement('div'); el.className='fixed top-4 left-1/2 -translate-x-1/2 z-50 rounded-full bg-white text-black px-4 py-2 shadow-lg text-sm'; el.textContent=msg; document.body.appendChild(el); setTimeout(()=>el.remove(),1600); };

    function drawNew(){
      const list = DATASETS[mode].items;
      const next = list[Math.floor(Math.random()*list.length)];
      current = next.id;
      flipped = false;
      history = [{type:mode,id:next.id,t:Date.now()}, ...history].slice(0,80);
      storage.set("emojiIdea.historyV2", history);
    }

    /* ---------------- ë Œë” ---------------- */
    function render(){
      const ds = DATASETS[mode];
      const item = ds.items.find(x=>x.id===current) || null;

      $('#app').innerHTML = `
        <div>
          <header class="flex items-center justify-between mb-4">
            <div>
              <h1 class="text-2xl sm:text-3xl font-bold tracking-tight">ì˜¤ëŠ˜ ê·¸ë¦´ ê·¸ë¦¼ì€?</h1>
              <p class="text-sm text-gray-300/90">ì¹´ì¹´ì˜¤í†¡ ì´ëª¨í‹°ì½˜ ì£¼ì œ ëœë¤ ì¶”ì²œê¸°</p>
            </div>
            <div class="flex items-center gap-2">
              <div class="grid grid-cols-3 rounded-xl overflow-hidden border border-white/10">
                ${tabButton('situation','ìƒí™©', false)}
                ${tabButton('personality','ì„±ê²©', !premiumUnlocked)}
                ${tabButton('appearance','ìƒê¹€ìƒˆ', !premiumUnlocked)}
              </div>
              <button id="btn-history" class="inline-flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 hover:bg-white/10 transition">ğŸ•˜ <span class="hidden sm:inline">íˆìŠ¤í† ë¦¬</span></button>
            </div>
          </header>

          <div class="scene relative">
            <div id="card" class="card relative h-64 sm:h-72 w-full">
              <!-- ì•ë©´ -->
              <div class="card-face front absolute inset-0 rounded-3xl shadow-2xl overflow-hidden border border-emerald-300/25 ${flipped?'hidden-face':'visible-face'}">
                <div class="h-full w-full bg-gradient-to-br from-[#cfe8b6] via-[#b9d8a2] to-[#9dc58a] relative flex flex-col items-center justify-center text-emerald-950/90">
                  <div class="absolute inset-0" style="background:
                    radial-gradient(circle at 25% 20%, rgba(255,255,255,.45), transparent 45%),
                    radial-gradient(circle at 80% 10%, rgba(255,255,255,.25), transparent 55%)"></div>
                  <p class="text-[40px] sm:text-[48px] font-extrabold tracking-tight drop-shadow-sm">ì¡°ì•½ëŒ ë§ˆì„</p>
                  <p class="mt-2 text-sm opacity-80">ì¹´ë“œë¥¼ ë’¤ì§‘ì–´ ì£¼ì œë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
                </div>
              </div>
              <!-- ë’·ë©´ -->
              <div class="card-face card-back absolute inset-0 rounded-3xl shadow-2xl overflow-hidden border border-white/10 ${flipped?'visible-face':'hidden-face'}">
                <div class="h-full w-full bg-gradient-to-b from-slate-900/70 to-slate-800/60 backdrop-blur-sm">
                  <div class="h-full w-full flex flex-col items-center justify-center p-6 text-center">
                    ${item ? `
                      <div class="inline-flex items-center gap-2 text-amber-300/90 mb-2">âœ¨
                        <span class="text-sm">ì§œì”~ ì˜¤ëŠ˜ì˜ ${ds.name}</span>
                      </div>
                      <h2 class="text-xl sm:text-2xl font-bold leading-snug mb-2">${item.title}</h2>
                      <div class="text-xs uppercase tracking-wide text-gray-300/80 mb-1">${ds.name}</div>
                      <div class="text-xs text-gray-300/80 mb-2">ê·¸ë¦¼ ìš”ì†Œ ì¶”ì²œ</div>
                      <div class="flex flex-wrap items-center justify-center gap-2">
                        ${item.examples.map(ex=>`<span class="pill">${ex}</span>`).join('')}
                      </div>
                    ` : `
                      <p class="text-sm">ì•„ì§ ì¹´ë“œë¥¼ ë’¤ì§‘ì§€ ì•Šì•˜ì–´ìš”</p>
                      <p class="text-xs text-gray-400">í„°ì¹˜/í´ë¦­ìœ¼ë¡œ ì‹œì‘!</p>
                    `}
                  </div>
                </div>
              </div>
            </div>
            <button id="btn-flip" class="absolute inset-0 rounded-3xl focus-ring" aria-label="ì¹´ë“œ ë’¤ì§‘ê¸°"></button>
          </div>

          <div class="mt-4 grid grid-cols-2 gap-2">
            <button id="btn-new" class="flex items-center justify-center gap-2 rounded-xl bg-white/10 hover:bg-white/20 border border-white/10 px-3 py-2 transition">ğŸ”€ <span>ìƒˆ ì¹´ë“œ</span></button>
            <button id="btn-copy" class="flex items-center justify-center gap-2 rounded-xl bg-white/10 hover:bg-white/20 border border-white/10 px-3 py-2 transition">ğŸ“‹ <span>ë³µì‚¬</span></button>
          </div>

          <div class="mt-3 text-xs text-gray-300/80 flex items-center justify-between">
            <span>ì¶”ì²œ ì¢…ë¥˜: <b>${ds.name}</b> Â· í•­ëª© ${ds.items.length}ê°œ${premiumUnlocked?'':' Â· í”„ë¦¬ë¯¸ì—„ ì ê¸ˆ ğŸ”’'}</span>
            <span class="opacity-70">ì¡°ì•½ëŒ ë§ˆì„</span>
          </div>
        </div>

        ${passwordModalHTML()}
      `;

      bindEvents(); syncFlip();
    }

    function tabButton(key, label, locked){
      const active = (mode===key);
      const base = active ? 'bg-white text-black' : 'bg-white/5 text-white hover:bg-white/10';
      const lock = locked ? ' ğŸ”’' : '';
      return `<button data-mode="${key}" class="px-3 py-2 text-sm ${base}">${label}${lock}</button>`;
    }

    function syncFlip(){
      const card = document.getElementById('card');
      if (!card) return;
      card.classList.toggle('is-flipped', flipped);
      const front = card.querySelector('.front');
      const back  = card.querySelector('.card-back');
      if (front && back){
        front.classList.toggle('hidden-face', flipped);
        front.classList.toggle('visible-face', !flipped);
        back .classList.toggle('hidden-face', !flipped);
        back .classList.toggle('visible-face', flipped);
      }
    }

    function bindEvents(){
      // íƒ­ ì „í™˜ (ì ê¸ˆ í™•ì¸)
      document.querySelectorAll('[data-mode]').forEach(btn=>{
        btn.onclick = (e)=>{
          const target = e.currentTarget.getAttribute('data-mode');
          if ((target==='personality' || target==='appearance') && !premiumUnlocked){
            openPasswordModal();
            return;
          }
          mode = target;
          storage.set("emojiIdea.mode", mode);
          flipped=false; // íƒ­ ë°”ê¾¸ë©´ ì•ë©´ë¶€í„°
          render();
        };
      });

      document.getElementById('btn-flip').onclick = () => {
        if (current===null){ drawNew(); flipped=true; render(); return; }
        flipped = !flipped; syncFlip();
      };
      document.getElementById('btn-new').onclick = () => { drawNew(); flipped=false; render(); };
      document.getElementById('btn-copy').onclick = async () => {
        const ds = DATASETS[mode];
        const item = ds.items.find(x=>x.id===current);
        if(!item) return;
        try{ await navigator.clipboard.writeText(`[${ds.name}] ${item.title}`); toast('ë³µì‚¬í–ˆì–´ìš”!'); }
        catch{ toast('ë³µì‚¬ ì‹¤íŒ¨'); }
      };

      document.getElementById('btn-history').onclick = openHistory;

      // ë¹„ë°€ë²ˆí˜¸ ëª¨ë‹¬ ì´ë²¤íŠ¸
      const pwOk = document.getElementById('pw-ok');
      const pwCancel = document.getElementById('pw-cancel');
      const pwInput = document.getElementById('pw-input');
      if (pwOk && pwCancel && pwInput){
        pwCancel.onclick = closePasswordModal;
        pwOk.onclick = () => {
          const val = pwInput.value.trim();
          if (val === PREMIUM_PASS){
            premiumUnlocked = true;
            storage.set("emojiIdea.premiumUnlocked", true);
            toast('í”„ë¦¬ë¯¸ì—„ í•´ì œ ì™„ë£Œ! ğŸ‰');
            closePasswordModal();
            render();
          } else {
            toast('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ì–´ìš” ğŸ˜¢');
            pwInput.focus();
          }
        };
      }
    }

    /* ---------------- íˆìŠ¤í† ë¦¬ ---------------- */
    function openHistory(){
      const wrap=document.createElement('div');
      wrap.className='fixed inset-0 z-50 flex items-center justify-center';
      wrap.innerHTML=`
        <div class="absolute inset-0 bg-black/60"></div>
        <div class="relative w-[92vw] max-w-lg rounded-2xl border border-white/10 bg-slate-900/90 backdrop-blur p-4 text-white max-h-[70vh] overflow-y-auto">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-lg font-semibold">íˆìŠ¤í† ë¦¬</h3>
            <button id="close" class="rounded-lg bg-white/5 hover:bg-white/10 p-1">âœ–ï¸</button>
          </div>
          ${history.length===0? '<p class="text-sm text-gray-300/80">ì•„ì§ íˆìŠ¤í† ë¦¬ê°€ ì—†ì–´ìš”. ì¹´ë“œë¥¼ ëª‡ ë²ˆ ë½‘ì•„ë³´ì„¸ìš”!</p>': ''}
          <div class="space-y-3 pr-1">
            ${history.map(h=>{
              const ds = DATASETS[h.type]; const it = ds.items.find(x=>x.id===h.id);
              const date=new Date(h.t).toLocaleString();
              return `<div class="flex items-center justify-between rounded-xl bg-white/5 border border-white/10 p-3">
                <div>
                  <p class="text-sm font-medium">[${ds.name}] ${it?.title || '(ì‚­ì œë¨)'}</p>
                  <p class="text-xs text-gray-300/70">${date}</p>
                </div>
                <div class="flex items-center gap-2">
                  <button class="rounded-lg border border-white/15 bg-white/5 px-2 py-1 text-xs hover:bg-white/10" data-copy="${ds.name}::${it?.title || ''}">ë³µì‚¬</button>
                  <button class="rounded-lg border border-white/15 bg-white/5 px-2 py-1 text-xs hover:bg-white/10" data-view="${h.type}:${h.id}">ë³´ê¸°</button>
                </div>
              </div>`;
            }).join('')}
          </div>
        </div>`;
      document.body.appendChild(wrap);
      wrap.querySelector('#close').onclick=()=> wrap.remove();
      wrap.querySelectorAll('[data-copy]').forEach(btn=> btn.onclick = async (e)=>{
        const raw=e.currentTarget.getAttribute('data-copy'); if(!raw) return;
        const [g,txt]=raw.split("::");
        try{ await navigator.clipboard.writeText(`[${g}] ${txt}`); toast('ë³µì‚¬í–ˆì–´ìš”'); }catch{ toast('ë³µì‚¬ ì‹¤íŒ¨'); }
      });
      wrap.querySelectorAll('[data-view]').forEach(btn=> btn.onclick = (e)=>{
        const raw=e.currentTarget.getAttribute('data-view'); if(!raw) return;
        const [t,id]=raw.split(":"); 
        if ((t==='personality' || t==='appearance') && !premiumUnlocked){
          openPasswordModal();
          return;
        }
        mode=t; storage.set("emojiIdea.mode", mode);
        current=Number(id); flipped=true; render(); wrap.remove();
      });
    }

    /* --------- ë¹„ë°€ë²ˆí˜¸ ëª¨ë‹¬ --------- */
    function passwordModalHTML(){
      return `
        <div id="pw-wrap" class="hidden fixed inset-0 z-50 items-center justify-center">
          <div class="absolute inset-0 bg-black/60"></div>
          <div class="relative w-[92vw] max-w-sm rounded-2xl border border-white/10 bg-slate-900/90 backdrop-blur p-4 text-white">
            <h3 class="text-lg font-semibold mb-2">í”„ë¦¬ë¯¸ì—„ ì•”í˜¸ ì…ë ¥</h3>
            <p class="text-sm text-gray-300/80 mb-3">ì„±ê²©/ìƒê¹€ìƒˆ íƒ­ì€ í”„ë¦¬ë¯¸ì—„ì…ë‹ˆë‹¤. ì•”í˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            <input id="pw-input" type="password" class="w-full rounded-lg bg-white/10 border border-white/20 px-3 py-2 mb-3 outline-none focus:ring-2 focus:ring-amber-300/60" placeholder="ì•”í˜¸ ì…ë ¥" />
            <div class="flex items-center justify-end gap-2">
              <button id="pw-cancel" class="rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-sm hover:bg-white/10">ì·¨ì†Œ</button>
              <button id="pw-ok" class="rounded-lg bg-amber-400 text-black px-3 py-2 text-sm hover:bg-amber-300">í•´ì œ</button>
            </div>
          </div>
        </div>
      `;
    }
    function openPasswordModal(){ const el=document.getElementById('pw-wrap'); if(el){ el.classList.remove('hidden'); document.getElementById('pw-input').focus(); } }
    function closePasswordModal(){ const el=document.getElementById('pw-wrap'); if(el){ el.classList.add('hidden'); } }

    // ì´ˆê¸° ë Œë”
    render();
  </script>
</body>
</html>
